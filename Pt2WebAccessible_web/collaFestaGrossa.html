<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>prova Colla FestaGrossa!</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Estil personalitzat -->
    <link rel="stylesheet" href="estils.css">
</head>
<body>

    <!-- Capçalera global -->
    <header class="bg-primary text-white text-center py-4">
        <h1>Colla FestaGrossa!</h1>
        <h2 class="subtitol">Fent-la grossa per carnaval des de 2015</h2>
    </header>

    <!-- Contenidor de dues columnes -->
    <section class="d-flex">
        <!-- Barra de navegació lateral dins d'ASIDE -->
        <aside class="menuLateral bg-secondary text-white p-3">
            <nav>
                <h2 class="text-center">Menú</h2>
                <ul class="nav flex-column">
                    <li class="nav-item"><a class="nav-link text-white" href="#carnaval2024">Carnaval 2024</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="#programa2025">Programació 2025</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="#formInscripcio">Inscripció</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="#contacte">Contacte</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Contingut principal -->
        <main class="p-4">
            <section id="carnaval2024" class="mb-5">
                <h2 class="text-center">Imatges Carnaval 2024</h2>
                <div class="justify-content-center row gx-1 mb-1">
                    <img src="img/2024_1.jpg" class="fotos2024 col-4" alt="Records del carnaval del 2024.">
                    <img src="img/2024_2.jpg" class="fotos2024 col-4" alt="Records del carnaval del 2024.">
                    <img src="img/2024_3.jpg" class="fotos2024 col-4" alt="Records del carnaval del 2024.">
                </div>
                <div class="justify-content-center row gx-1">
                    <img src="img/2024_4.jpg" class="fotos2024 col-4" alt="Records del carnaval del 2024.">
                    <img src="img/2024_5.jpg" class="fotos2024 col-4" alt="Records del carnaval del 2024.">
                    <img src="img/2024_6.jpg" class="fotos2024 col-4" alt="Records del carnaval del 2024.">
                </div>
            </section>

            <section id="programa2025" class="mb-5">
                <h2 class="text-center">Programació 2025</h2>
                <p class="text-center">Per a totes les activitats, quedem al local de la colla per anar-hi junts!</p>
                <div class="table-responsive">
                    <table class="table table-bordered table-striped">
                        <thead class="table-dark">
                            <tr>
                                <th scope="col">Dia i hora</th>
                                <th scope="col">Activitat</th>
                                <th scope="col">Enllaç a la inscripció</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">20 febrer 10h</th>
                                <td class="itemActivitat">Exposició cartells Carnaval</td>
                                <td><a href="#formInscripcio" class="enllasActivitat" data-activitat="Exposició cartells Carnaval">Inscriu-te a l'activitat!</a></td>
                            </tr>
                            <tr>
                                <th scope="row">01 març 18h</th>
                                <td class="itemActivitat">Rua de Carnaval</td>
                                <td><a href="#formInscripcio" class="enllasActivitat" data-activitat="Rua de Carnaval">Inscriu-te a l'activitat!</a></td>
                            </tr>
                            <tr>
                                <th scope="row">03 març 9h-13h</th>
                                <td class="itemActivitat">Expoprofit</td>
                                <td><a href="#formInscripcio" class="enllasActivitat" data-activitat="Expoprofit">Inscriu-te a l'activitat!</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="d-flex justify-content-center align-items-center row">
                    <div class="justify-content-center col-4">
                        <img class="cartells justify-content-center" src="img/exposicio.png" alt="Cartell de l'exposició de cartells de Carnaval. Fa referència a l'acte del 20 de febrer a les 10h." />
                    </div>
                    <div class="col-4">
                        <img class="cartells justify-content-center" src="img/rua.png" alt="Cartell de la rua de Carnaval. Anima a anar a la rua del dia 1 de març a les 18h amb la colla." />
                    </div>
                    <div class="col-4">
                        <img class="cartells justify-content-center" src="img/expoprofit.png" alt="Cartell de l'expoprofit 2025. Fa referència a l'esmorzar organitzat per les colles que participen al Carnaval, del 3 de març a les 9h." />
                    </div>
                </div>
            </section>
            
            <section id="formInscripcio" class="mb-5">
                <h2 class="text-center">Inscripció</h2>
                <!-- El formulari està desactivat, si fos un entorn real s'hauria d'afegir action="formInscripcio.php" method="post" i crear el document que s'encarregués del formulari -->
                <form class="mx-auto w-50" disabled> <!-- afegim disabled per a què es carregui la pàgina i s'esborri les dades del form, simulant com si s'hagués enviat -->
                    <div class="mb-3">
                        <label for="activitat" class="form-label">Activitat:</label>
                        <select id="activitat" name="activitat" class="form-select" required>
                            <option value="" selected disabled>Selecciona una activitat</option>
                            <option value="opcio1">Exposició cartells Carnaval</option>
                            <option value="opcio2">Rua de Carnaval</option>
                            <option value="opcio3">Expoprofit</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="nom" class="form-label">Nom:</label>
                        <input type="text" id="nom" name="nom" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Correu electrònic:</label>
                        <input type="email" id="email" name="email" class="form-control" required>
                    </div>
                    <fieldset class="mb-3">
                        <legend class="form-label">Tipus d'entrada</legend>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="entrada" id="general" value="gratis" required>
                            <label class="form-check-label" for="gratis">Gratuïta</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="entrada" id="solidaria" value="vip">
                            <label class="form-check-label" for="solidaria">Solidària 5€</label>
                            <p>Recorda que som una entitat sense ànim de lucre i la vostra aportació ens ajuda moltíssim a continuar participant del carnaval!</p>
                        </div>
                    </fieldset>
                    <button type="submit" class="btn btn-primary w-100">Enviar</button>
                </form>
            </section>        
        </main>
    </section>

    <!-- Peu de pàgina -->
    <footer id="contacte" class="bg-dark text-white text-center py-3">
        <p>&copy; 2025 FestaGrossa!</p>
        <p>Instagram: @festagrossa_carnaval</p>
        <p>Bluesky: @festagrossa_carnaval_bsky</p>
    </footer>

    <!-- script pel bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- script js per a afegir el desplegable del camp "Activitat" al form -->
    <script>

        const itemsActivitat = document.querySelectorAll(".enllasActivitat"); // Busquem els enllaços d'activitats de la taula
        const selectActivitat = document.getElementById("activitat"); // Busquem el select del camp Activitat

        // Funció per establir el valor per defecte al desplegable
        function setDefaultActivitat(nomActivitat) {
            const options = selectActivitat.querySelectorAll("option"); // Busquem les opcions del camp Activitat
            options.forEach(option => {
                if (option.textContent === nomActivitat) {
                    option.selected = true; // Seleccionem l'opció
                }
            });
        }

        // Funció per establir la selecció al desplegable en fer clic a l'enllaç de la taula
        function escollirActivitatDeTaula() {
            itemsActivitat.forEach(item => {
                item.addEventListener("click", function(event) {
                    event.preventDefault(); // Evitem que el link segueixi la seva acció per defecte
                    const nomActivitat = this.dataset.activitat; // Obtenim el nom de l'activitat des de l'atribut data-activitat
                    setDefaultActivitat(nomActivitat); // Actualitzem el desplegable
                    window.location.hash = 'formInscripcio'; // Desplacem la pàgina fins al formulari
                });
            });
        }

        // Executem la funció per seleccionar l'activitat correcta si ja es vol enviar per enllaç
        // Creem l'objecte URLSearchParams, si existeix l'activitat la seleccionem en el condicional
        const enllasActivitat = new URLSearchParams(window.location.search).get("activitat");
        if (enllasActivitat) {
            setDefaultActivitat(enllasActivitat); // Si existeix, seleccionem l'activitat per defecte
        }

        // Executar funció per a gestionar els enllaços de la taula
        escollirActivitatDeTaula();

    </script>
    
</body>
</html>
